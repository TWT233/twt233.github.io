<!DOCTYPE html><html lang="zh-Hans"><head><meta name="generator" content="Hexo 3.9.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="Blog on Techs/Dev/Games/Life/meme"><title>[Node.js]nvm的安装和使用 | Twilight Tornado</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/normalize.css/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/purecss/build/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/purecss/build/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script><link rel="icon" mask sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><script type="text/javascript" src="//cdn.jsdelivr.net/npm/clipboard/dist/clipboard.min.js"></script><script type="text/javascript" src="//cdn.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.js"></script><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.css"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">[Node.js]nvm的安装和使用</h1><a id="logo" href="/.">Twilight Tornado</a><p class="description"></p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> Home</i></a><a href="/archives/"><i class="fa fa-archive"> Archive</i></a><a href="/about/"><i class="fa fa-user"> About</i></a><a href="/atom.xml"><i class="fa fa-rss"> RSS</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">[Node.js]nvm的安装和使用</h1><div class="post-meta">2020-04-23</div><div class="post-content"><p>Node.js 版本迭代非常快，基本是一年发布一个新的 LTS(Long Term Support) 版本，大家也可以到官网的<a href="https://nodejs.org/en/about/releases/" target="_blank" rel="noopener">Long Term Support (LTS) schedule</a>看看 LTS 版本的迭代计划。</p>
<p>版本迭代快说明社群活跃度高，是个好事儿。但是有些基于 Node.js 开发的包的更新维护就跟不上了，而且也有可能开发者弃坑了，这就造成了这些基于老版本 Node.js 开发的插件无法在新版 Node.js 中使用的问题。</p>
<p>比如我最近有兴趣的一个项目 YUKI，使用了一个叫做 electron-viberancy 的包。YUKI 最初是使用 Node.js V10 进行开发的，而如今 Node.js 已经发布 V12 了，我的开发环境也是用的 V12。所以在我 clone 完项目之后试运行时，就出现了问题：electron-viberancy 没法在 Node.js V12 上运行。</p>
<p>那咋办呢？</p>
<p>首先当然是去看看 electron-viberancy 有没有更新版本，所以我到 electron-vibrancy 的项目主页上看了一下，结果发现这个项目应该是无人维护了，这条路走不通。</p>
<p>接下来可能就会想到自己来改改看，但是我来接手 electron-vibrancy 的维护的话又不现实，因为我刚刚入门，这也不行。</p>
<p>所以我就决定，把 Node.js 回滚到 V10。但是有的时候我又要用 V12，在这里，我就接触到了 nvm 这个工具。</p>
<h1 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h1><p>nvm 全称是 node version manager，顾名思义是帮你管理多个版本的 nvm 的工具。你可以用 nvm 做到以下的事儿：</p>
<ul>
<li>用 nvm 安装/卸载多个版本的 Node.js<ul>
<li>你也可以用 nvm 设置 Node.js 的安装镜像源，我常用的还是淘宝源</li>
</ul>
</li>
<li>用 nvm 切换当前所使用的 Node.js 的版本</li>
</ul>
<h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><h2 id="UNIX-macOS-Windows-WSL"><a href="#UNIX-macOS-Windows-WSL" class="headerlink" title="UNIX/macOS/Windows WSL:"></a>UNIX/macOS/Windows WSL:</h2><p>使用如下命令即可：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.3/install.sh | bash</span><br></pre></td></tr></table></figure>
<p>或</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -qO- https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.3/install.sh | bash</span><br></pre></td></tr></table></figure>
<p>注意：当前 nvm 版本只到 v0.35.3，想装最新版的话建议使用<a href="https://github.com/nvm-sh/nvm#installing-and-updating" target="_blank" rel="noopener">nvm 的项目主页上的安装命令</a></p>
<h2 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h2><p>nvm-sh 官方团队没有支持 Windows，但是有人开发了 nvm 的 windows 版本，项目仓库在：<a href="https://github.com/coreybutler/nvm-windows" target="_blank" rel="noopener">https://github.com/coreybutler/nvm-windows</a></p>
<p>windows 下的安装也很简单：</p>
<ol>
<li>在<a href="https://github.com/coreybutler/nvm-windows/releases" target="_blank" rel="noopener">项目的 releases 页</a>下载安装版（文件名为 nvm-setup.zip）</li>
<li>解压出安装程序</li>
<li>运行安装程序然后点点点就 OK 了</li>
</ol>
<h1 id="简单使用教程"><a href="#简单使用教程" class="headerlink" title="简单使用教程"></a>简单使用教程</h1><h2 id="UNIX-macOS-Windows-WSL-1"><a href="#UNIX-macOS-Windows-WSL-1" class="headerlink" title="UNIX/macOS/Windows WSL"></a>UNIX/macOS/Windows WSL</h2><h3 id="设置源"><a href="#设置源" class="headerlink" title="设置源"></a>设置源</h3><p>我一般会先设置 node 下载源，nvm 切换源的方法是手动设置变量：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export NVM_NODEJS_ORG_MIRROR=https://npm.taobao.org/mirrors/node</span><br></pre></td></tr></table></figure>
<h3 id="列出可用版本"><a href="#列出可用版本" class="headerlink" title="列出可用版本"></a>列出可用版本</h3><p>一般都是用 LTS 版本，所以在命令后加<code>--lts</code>参数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm ls-remote --lts</span><br></pre></td></tr></table></figure>
<h3 id="安装-node"><a href="#安装-node" class="headerlink" title="安装 node"></a>安装 node</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm install &lt;version&gt;</span><br></pre></td></tr></table></figure>
<p>假如我想装 V10+V12，那么使用的命令就是：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm install v12.16.2</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm install v10.20.1</span><br></pre></td></tr></table></figure>
<h3 id="切换使用版本"><a href="#切换使用版本" class="headerlink" title="切换使用版本"></a>切换使用版本</h3><p>linux 下的 nvm 切换 node 版本有两种情况：</p>
<ol>
<li>临时切换，只切换当前 terminal 使用的 node 版本</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm use &lt;version&gt;</span><br></pre></td></tr></table></figure>
<p>这里的 version 其实不用写完整版本号，比如我现在装了 12.16.2 和 10.20.1，那么我使用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm use 12</span><br></pre></td></tr></table></figure>
<p>就能够切换到 12.16.2，同理，想切换到 10.20.1 的话只需要使用<code>nvm use 10</code></p>
<ol start="2">
<li>切换默认 node 版本</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm alias default &lt;version&gt;</span><br></pre></td></tr></table></figure>
<p>当然，这里的 version 也是不需要完整版本号的，同上</p>
<h2 id="Windows-1"><a href="#Windows-1" class="headerlink" title="Windows"></a>Windows</h2><h3 id="设置源-1"><a href="#设置源-1" class="headerlink" title="设置源"></a>设置源</h3><p>与 UNIX/macOS/Windows WSL 版类似，我一般会先设置 node 下载源。</p>
<p>但是 windows 下切换源不需要设置变量，直接使用命令即可：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm node_mirror https://npm.taobao.org/mirrors/node/</span><br></pre></td></tr></table></figure>
<p><strong>注意不要漏了 URL 最后的/</strong></p>
<h3 id="列出可用版本-1"><a href="#列出可用版本-1" class="headerlink" title="列出可用版本"></a>列出可用版本</h3><p>接下来是列出所有可用版本：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm ls available</span><br></pre></td></tr></table></figure>
<h3 id="安装-node-1"><a href="#安装-node-1" class="headerlink" title="安装 node"></a>安装 node</h3><p>一般我们都是装 LTS 版本，如果我现在想装 32 位 V10 + 64 位 V12，接下来应该使用如下命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm install 10.20.1 32</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm install 12.16.2 64</span><br></pre></td></tr></table></figure>
<h3 id="切换使用版本-1"><a href="#切换使用版本-1" class="headerlink" title="切换使用版本"></a>切换使用版本</h3><p>如果要切换当前使用的 node 版本，使用如下命令即可：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm use [version] [arch]</span><br></pre></td></tr></table></figure>
<p>如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm use 10.20.1 32</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm use 12.16.2 64</span><br></pre></td></tr></table></figure>
</div><div class="tags"><a href="/tags/Node-js/"><i class="fa fa-tag"></i>Node.js</a></div><div class="post-nav"><a class="pre" href="/2020/04/27/vscode-Language-Extensions入门/">[vscode]Language Extensions入门</a><a class="next" href="/2020/04/21/面经-阿里研发工程师C-C-实习HR面/">[面经]阿里研发工程师C/C++实习HR面</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"><input type="hidden" name="sitesearch" value="https://twt233.github.io"></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Categories</i></div></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"><a href="/tags/Node-js/" style="font-size: 15px;">Node.js</a> <a href="/tags/PA/" style="font-size: 15px;">PA</a> <a href="/tags/warframe/" style="font-size: 15px;">warframe</a> <a href="/tags/vscode/" style="font-size: 15px;">vscode</a> <a href="/tags/js-ts/" style="font-size: 15px;">js/ts</a> <a href="/tags/课程/" style="font-size: 15px;">课程</a> <a href="/tags/compiler/" style="font-size: 15px;">compiler</a> <a href="/tags/c/" style="font-size: 15px;">c</a> <a href="/tags/笔记/" style="font-size: 15px;">笔记</a> <a href="/tags/面经/" style="font-size: 15px;">面经</a> <a href="/tags/os/" style="font-size: 15px;">os</a> <a href="/tags/java/" style="font-size: 15px;">java</a> <a href="/tags/c/" style="font-size: 15px;">c++</a> <a href="/tags/计网/" style="font-size: 15px;">计网</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Recent</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2021/01/14/课程-编译原理笔记8/">[课程]编译原理笔记8</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/01/14/课程-编译原理笔记7/">[课程]编译原理笔记7</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/01/10/课程-编译原理笔记6/">[课程]编译原理笔记6</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/12/21/课程-编译原理lab3/">[课程]编译原理lab3</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/11/04/课程-编译原理笔记5/">[课程]编译原理笔记5</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/09/24/课程-编译原理笔记4/">[课程]编译原理笔记4</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/09/17/面经-字节基础架构后端开发一面/">[面经]字节基础架构后端开发一面</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/09/10/课程-编译原理笔记3/">[课程]编译原理笔记3</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/09/10/课程-编译原理笔记2/">[课程]编译原理笔记2</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/04/27/vscode-Language-Extensions入门/">[vscode]Language Extensions入门</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> Links</i></div></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2021 <a href="/." rel="nofollow">Twilight Tornado.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.css"><script type="text/javascript" src="/js/copycode.js" successtext="Copy Successed!"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>